{"ast":null,"code":"import _defineProperty from\"/Users/macbook/Documents/Heroku/user-manage/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/macbook/Documents/Heroku/user-manage/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/macbook/Documents/Heroku/user-manage/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/macbook/Documents/Heroku/user-manage/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/macbook/Documents/Heroku/user-manage/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/macbook/Documents/Heroku/user-manage/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _regeneratorRuntime from\"/Users/macbook/Documents/Heroku/user-manage/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/macbook/Documents/Heroku/user-manage/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{Component}from\"react\";import axios from\"axios\";var postData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id,name,telephone,permissions){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(\"/api/update/\"+id,{name:name,telephone:telephone,permissions:permissions});case 2:return _context.abrupt(\"return\",_context.sent);case 3:case\"end\":return _context.stop();}}},_callee);}));return function postData(_x,_x2,_x3,_x4){return _ref.apply(this,arguments);};}();var EditUserForm=/*#__PURE__*/function(_Component){_inherits(EditUserForm,_Component);function EditUserForm(props){var _this;_classCallCheck(this,EditUserForm);_this=_possibleConstructorReturn(this,_getPrototypeOf(EditUserForm).call(this,props));_this.isChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.editClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var item;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();item={id:_this.state.id,name:_this.state.name,telephone:_this.state.telephone,permissions:_this.state.permissions};_this.props.getUserEditInfo(item);_this.props.changeEditUserStatus();_context2.next=6;return postData(_this.state.id,_this.state.name,_this.state.telephone,_this.state.permissions);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x5){return _ref2.apply(this,arguments);};}();_this.displayForm=function(){if(_this.props.editUserStatus){return React.createElement(\"div\",{className:\"col\"},React.createElement(\"form\",{onSubmit:_this.editClick},React.createElement(\"div\",{className:\"card border-success mt-3\",style:{maxWidth:\"18rem\"}},React.createElement(\"div\",{className:\"card-header bg-transparent border-success text-center\"},React.createElement(\"strong\",null,\"S\\u1EEDa th\\xF4ng tin\")),React.createElement(\"div\",{className:\"card-body text-success\"},React.createElement(\"div\",{className:\"from-group\"},React.createElement(\"div\",null,React.createElement(\"label\",null,\"T\\xEAn user\"),React.createElement(\"input\",{className:\"form-control\",type:\"text\",name:\"name\",placeholder:\"Nh\\u1EADp t\\xEAn user\",defaultValue:_this.props.userEditObject.name,onChange:function onChange(event){return _this.isChange(event);}})),React.createElement(\"div\",{className:\"mt-3\"},React.createElement(\"label\",null,\"\\u0110i\\u1EC7n tho\\u1EA1i\"),React.createElement(\"input\",{className:\"form-control\",type:\"text\",name:\"telephone\",placeholder:\"Nh\\u1EADp \\u0111i\\u1EC7n tho\\u1EA1i\",defaultValue:_this.props.userEditObject.telephone,onChange:function onChange(event){return _this.isChange(event);}})),React.createElement(\"div\",{className:\"mt-3\"},React.createElement(\"label\",null,\"Ph\\xE2n quy\\u1EC1n\"),React.createElement(\"select\",{className:\"custom-select mr-sm-2\",name:\"permissions\",defaultValue:_this.props.userEditObject.permissions,onChange:function onChange(event){return _this.isChange(event);}},React.createElement(\"option\",null,\"Choose...\"),React.createElement(\"option\",{value:\"1\"},\"Admin\"),React.createElement(\"option\",{value:\"2\"},\"Moderator\"),React.createElement(\"option\",{value:\"3\"},\"Normal\"))),React.createElement(\"div\",{className:\"mt-3 text-center\"},React.createElement(\"button\",{type:\"submit\",className:\"btn btn-outline-success btn-block\",onClick:function onClick(event){return _this.editClick(event);}},\"L\\u01B0u\")))))));}};_this.state={id:\"\",name:\"\",telephone:\"\",permissions:\"\"};return _this;}// static getDerivedStateFromProps(props, state){\n//     return {\n//         id: props.userEditObject.id,\n//         name: props.userEditObject.name,\n//         telephone: props.userEditObject.telephone,\n//         permissions: props.userEditObject.permissions\n//     }\n// }\n_createClass(EditUserForm,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps,nextContext){this.setState({id:nextProps.userEditObject._id,name:nextProps.userEditObject.name,telephone:nextProps.userEditObject.telephone,permissions:nextProps.userEditObject.permissions});}},{key:\"render\",value:function render(){return React.createElement(\"div\",null,this.displayForm());}}]);return EditUserForm;}(Component);export default EditUserForm;","map":{"version":3,"sources":["/Users/macbook/Documents/Heroku/user-manage/client/src/components/EditUserForm.js"],"names":["React","Component","axios","postData","id","name","telephone","permissions","post","EditUserForm","props","isChange","event","setState","target","value","editClick","preventDefault","item","state","getUserEditInfo","changeEditUserStatus","displayForm","editUserStatus","maxWidth","userEditObject","nextProps","nextContext","_id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nconst postData = async (id ,name, telephone, permissions) => await axios.post(\"/api/update/\" + id, {name, telephone, permissions})\nclass EditUserForm extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tid: \"\",\n\t\t\tname: \"\",\n\t\t\ttelephone: \"\",\n\t\t\tpermissions: \"\"\n\t\t};\n\t}\n\t// static getDerivedStateFromProps(props, state){\n\t//     return {\n\t//         id: props.userEditObject.id,\n\t//         name: props.userEditObject.name,\n\t//         telephone: props.userEditObject.telephone,\n\t//         permissions: props.userEditObject.permissions\n\t//     }\n\t// }\n\n\tcomponentWillReceiveProps(nextProps, nextContext) {\n\t\tthis.setState({\n\t\t\tid: nextProps.userEditObject._id,\n\t\t\tname: nextProps.userEditObject.name,\n\t\t\ttelephone: nextProps.userEditObject.telephone,\n\t\t\tpermissions: nextProps.userEditObject.permissions\n\t\t});\n\t}\n\n\tisChange = (event) => {\n\t\tthis.setState({\n\t\t\t[event.target.name]: event.target.value\n\t\t});\n\t};\n\teditClick = async (event) => {\n\t\tevent.preventDefault();\n\t\tlet item = {\n\t\t\tid: this.state.id,\n\t\t\tname: this.state.name,\n\t\t\ttelephone: this.state.telephone,\n\t\t\tpermissions: this.state.permissions\n        };\n        \n\t\tthis.props.getUserEditInfo(item);\n        this.props.changeEditUserStatus();\n        await postData(this.state.id, this.state.name, this.state.telephone, this.state.permissions)   \n\t};\n\tdisplayForm = () => {\n\t\tif (this.props.editUserStatus) {\n\t\t\treturn (\n\t\t\t\t<div className=\"col\">\n\t\t\t\t\t<form onSubmit={this.editClick}>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"card border-success mt-3\"\n\t\t\t\t\t\t\tstyle={{ maxWidth: \"18rem\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"card-header bg-transparent border-success text-center\">\n\t\t\t\t\t\t\t\t<strong>Sửa thông tin</strong>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"card-body text-success\">\n\t\t\t\t\t\t\t\t<div className=\"from-group\">\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<label>Tên user</label>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Nhập tên user\"\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={this.props.userEditObject.name}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => this.isChange(event)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"mt-3\">\n\t\t\t\t\t\t\t\t\t\t<label>Điện thoại</label>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"telephone\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Nhập điện thoại\"\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={this.props.userEditObject.telephone}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => this.isChange(event)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"mt-3\">\n\t\t\t\t\t\t\t\t\t\t<label>Phân quyền</label>\n\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"custom-select mr-sm-2\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"permissions\"\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={this.props.userEditObject.permissions}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => this.isChange(event)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<option>Choose...</option>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"1\">Admin</option>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"2\">Moderator</option>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"3\">Normal</option>\n\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"mt-3 text-center\">\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-success btn-block\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={(event) => this.editClick(event)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tLưu\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t};\n\n\trender() {\n\n\n\t\treturn <div>{this.displayForm()}</div>;\n\t}\n}\n\nexport default EditUserForm;\n"]},"metadata":{},"sourceType":"module"}
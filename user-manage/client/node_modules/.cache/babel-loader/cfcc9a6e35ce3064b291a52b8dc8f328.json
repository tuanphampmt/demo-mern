{"ast":null,"code":"import _classCallCheck from\"/Users/macbook/Documents/Heroku/user-manage/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/macbook/Documents/Heroku/user-manage/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/macbook/Documents/Heroku/user-manage/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/macbook/Documents/Heroku/user-manage/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/macbook/Documents/Heroku/user-manage/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _regeneratorRuntime from\"/Users/macbook/Documents/Heroku/user-manage/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/macbook/Documents/Heroku/user-manage/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{Component}from\"react\";import\"../stylesheets/App.css\";import Header from\"./Header\";import Search from\"./Search\";import TableData from\"./TableData\";import AddUserForm from\"./AddUserForm\";import EditUserForm from\"./EditUserForm\";import axios from\"axios\";import{BrowserRouter as Router}from\"react-router-dom\";var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/api/user\");case 2:return _context.abrupt(\"return\",_context.sent.data);case 3:case\"end\":return _context.stop();}}},_callee);}));return function getData(){return _ref.apply(this,arguments);};}();var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.getArrayTextSearch=function(){var arr=[];_this.state.data.forEach(function(item){if(item.name.toLowerCase().indexOf(_this.state.searchText)!==-1){arr.push(item);}});return arr;};_this.getTextSearch=function(dl){_this.setState({searchText:dl.toLowerCase().trim()});};_this.isCheck=function(){_this.setState({status:!_this.state.status});};_this.getNewDataUser=function(name,tel,per){var item={name:name,telephone:tel,permissions:per};_this.state.data.push(item);_this.setState({data:_this.state.data});};_this.editUser=function(user){_this.setState({userEditObject:user});};_this.changeEditUserStatus=function(){_this.setState({editUserStatus:!_this.state.editUserStatus});};_this.getUserEditInfo=function(item){var user=_this.state.data.find(function(user){return user._id===item.id;});user.name=item.name;user.telephone=item.telephone;user.permissions=item.permissions;};_this.getUserRemovedInfo=function(idUser){var tempData=_this.state.data.filter(function(item){return item._id!==idUser;});_this.setState({data:tempData});};_this.state={status:false,data:[],searchText:\"\",editUserStatus:false,userEditObject:{},userObject:{}};return _this;}_createClass(App,[{key:\"componentWillMount\",value:function componentWillMount(){var _this2=this;_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.t0=_this2;_context2.next=3;return getData();case 3:_context2.t1=_context2.sent.dataUser;_context2.t2={data:_context2.t1};_context2.t0.setState.call(_context2.t0,_context2.t2);case 6:case\"end\":return _context2.stop();}}},_callee2);}))();}},{key:\"render\",value:function render(){var _this3=this;return React.createElement(Router,null,React.createElement(\"div\",null,React.createElement(Header,null),React.createElement(\"div\",{className:\"searchForm\"},React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{className:\"row\"},React.createElement(Search,{status:function status(){return _this3.isCheck();},displayForm:this.state.status,getTextSearch:function getTextSearch(dl){return _this3.getTextSearch(dl);}}),React.createElement(\"div\",{className:\"col-12\"},React.createElement(\"hr\",null)),React.createElement(TableData,{data:this.getArrayTextSearch(),editUser:function editUser(user){return _this3.editUser(user);},changeEditUserStatus:function changeEditUserStatus(){return _this3.changeEditUserStatus();},getUserRemovedInfo:function getUserRemovedInfo(idUser){return _this3.getUserRemovedInfo(idUser);}}),React.createElement(AddUserForm,{displayForm:this.state.status,getNewDataUser:function getNewDataUser(name,tel,per){return _this3.getNewDataUser(name,tel,per);}}),React.createElement(EditUserForm,{editUserStatus:this.state.editUserStatus,changeEditUserStatus:function changeEditUserStatus(){return _this3.changeEditUserStatus();},userEditObject:this.state.userEditObject,getUserEditInfo:function getUserEditInfo(item){return _this3.getUserEditInfo(item);}}))))));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/macbook/Documents/Heroku/user-manage/client/src/components/App.js"],"names":["React","Component","Header","Search","TableData","AddUserForm","EditUserForm","axios","BrowserRouter","Router","getData","get","data","App","props","getArrayTextSearch","arr","state","forEach","item","name","toLowerCase","indexOf","searchText","push","getTextSearch","dl","setState","trim","isCheck","status","getNewDataUser","tel","per","telephone","permissions","editUser","user","userEditObject","changeEditUserStatus","editUserStatus","getUserEditInfo","find","_id","id","getUserRemovedInfo","idUser","tempData","filter","userObject","dataUser"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../stylesheets/App.css\";\nimport Header from \"./Header\";\nimport Search from \"./Search\";\nimport TableData from \"./TableData\";\nimport AddUserForm from \"./AddUserForm\";\nimport EditUserForm from \"./EditUserForm\";\nimport axios from \"axios\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nconst getData = async () => (await axios.get(\"/api/user\")).data\n\n\nclass App extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstatus: false,\n\t\t\tdata: [],\n\t\t\tsearchText: \"\",\n\t\t\teditUserStatus: false,\n\t\t\tuserEditObject: {},\n\t\t\tuserObject: {}\n\t\t};\n\t}\n\t\n\tcomponentWillMount() {\n\t\t(async () =>{\n\t\t\tthis.setState({ data: (await getData()).dataUser });\n\t\t})()\n\t}\n\n\tgetArrayTextSearch = () => {\n\t\tlet arr = [];\n\t\tthis.state.data.forEach((item) => {\n\t\t\tif (item.name.toLowerCase().indexOf(this.state.searchText) !== -1) {\n\t\t\t\tarr.push(item);\n\t\t\t}\n\t\t});\n\t\treturn arr;\n\t};\n\n\tgetTextSearch = (dl) => {\n\t\tthis.setState({ searchText: dl.toLowerCase().trim() });\n\t};\n\n\tisCheck = () => {\n\t\tthis.setState({ status: !this.state.status });\n\t};\n\n\tgetNewDataUser = (name, tel, per) => {\n\t\tlet item = {\n\t\t\tname: name,\n\t\t\ttelephone: tel,\n\t\t\tpermissions: per\n\t\t};\n\t\tthis.state.data.push(item);\n\t\tthis.setState({ data: this.state.data });\n\t};\n\n\teditUser = (user) => {\n\t\tthis.setState({ userEditObject: user });\n\t};\n\n\tchangeEditUserStatus = () => {\n\t\tthis.setState({ editUserStatus: !this.state.editUserStatus });\n\t};\n\n\tgetUserEditInfo = (item) => {\n\t\tlet user = this.state.data.find((user) => user._id === item.id);\n\t\tuser.name = item.name;\n\t\tuser.telephone = item.telephone;\n\t\tuser.permissions = item.permissions;\n\t};\n\n\tgetUserRemovedInfo = (idUser) => {\n\t\tlet tempData = this.state.data.filter((item) => item._id !== idUser);\n\t\tthis.setState({\n\t\t\tdata: tempData\n\t\t});\n\t};\n\n\trender() {\n\t\t\n\t\t\n\t\treturn (\n\t\t\t<Router>\n\t\t\t\t<div>\n\t\t\t\t\t<Header />\n\t\t\t\t\t<div className=\"searchForm\">\n\t\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t<Search\n\t\t\t\t\t\t\t\t\tstatus={() => this.isCheck()}\n\t\t\t\t\t\t\t\t\tdisplayForm={this.state.status}\n\t\t\t\t\t\t\t\t\tgetTextSearch={(dl) => this.getTextSearch(dl)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<TableData\n\t\t\t\t\t\t\t\t\tdata={this.getArrayTextSearch()}\n\t\t\t\t\t\t\t\t\teditUser={(user) => this.editUser(user)}\n\t\t\t\t\t\t\t\t\tchangeEditUserStatus={() => this.changeEditUserStatus()}\n\t\t\t\t\t\t\t\t\tgetUserRemovedInfo={(idUser) =>\n\t\t\t\t\t\t\t\t\t\tthis.getUserRemovedInfo(idUser)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<AddUserForm\n\t\t\t\t\t\t\t\t\tdisplayForm={this.state.status}\n\t\t\t\t\t\t\t\t\tgetNewDataUser={(name, tel, per) =>\n\t\t\t\t\t\t\t\t\t\tthis.getNewDataUser(name, tel, per)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<EditUserForm\n\t\t\t\t\t\t\t\t\teditUserStatus={this.state.editUserStatus}\n\t\t\t\t\t\t\t\t\tchangeEditUserStatus={() => this.changeEditUserStatus()}\n\t\t\t\t\t\t\t\t\tuserEditObject={this.state.userEditObject}\n\t\t\t\t\t\t\t\t\tgetUserEditInfo={(item) => this.getUserEditInfo(item)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Router>\n\t\t);\n\t}\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}